import streamlit as st
from pathlib import Path

# ----------------------------
# CONFIG
# ----------------------------
st.set_page_config(page_title="Vulnerability Signals", layout="wide")

# ----------------------------
# PATHS
# ----------------------------
BASE = Path(__file__).parents[1]
PH = BASE / "assets" / "placeholders"
VIS = BASE / "assets" / "visuals"

def get_img(name: str) -> Path:
    """Return final visual if available, else placeholder."""
    final = VIS / name
    return final if final.exists() else (PH / name)

# ----------------------------
# HEADER
# ----------------------------
st.title("üß© Vulnerability Signals")
st.caption(
    "Common weakness themes driving exposure and exploitation pressure across sectors."
)

# ----------------------------
# VISUAL
# ----------------------------
st.image(str(get_img("vulnerability_signals.png")), use_container_width=True)

st.divider()

# ----------------------------
# INTERPRETATION
# ----------------------------
st.subheader("How to interpret this view")

st.markdown(
    """
    This view highlights the vulnerability themes most frequently associated with real-world incidents.
    It helps move conversations from ‚Äúhow many incidents happened‚Äù to **why risk is increasing**.

    Common themes may include:
    - Vendor / supply chain weaknesses  
    - Misconfiguration and exposed services  
    - Remote access vulnerabilities  
    - Phishing and social engineering  
    - Legacy or unpatched systems  
    """
)

# ----------------------------
# ILLUSTRATIVE EXAMPLE
# ----------------------------
st.subheader("Illustrative Example")

st.write(
    "Example: Phishing and misconfiguration may appear as persistent drivers of exposure, "
    "suggesting the need for stronger identity controls and configuration governance."
)

# ----------------------------
# DISCLAIMER
# ----------------------------
st.warning(
    "This is a prototype visualization for layout and storytelling purposes. "
    "Final implementation will link each theme to sourced evidence and documented references."
)

st.caption(
    "Prototype mockup using illustrative visuals. Final production version will document "
    "theme definitions, data sources, and update cadence."
)
